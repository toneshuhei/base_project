# Webアプリベースプロジェクト 要件定義書

## 📋 プロジェクト概要

### プロジェクト名
Webアプリベースプロジェクト（Base Project for Web Applications）

### プロジェクト目的
個人開発や案件対応時に、迅速にスタートできる**フルスタック構成の雛形（ベース）**を用意する。拡張・カスタマイズを前提にして、必要最低限の機能を備えた構成とする。

### プロジェクト背景
- 新規プロジェクト開始時の環境構築時間を短縮
- 技術スタックの統一による開発効率の向上
- 再利用可能なベーステンプレートの提供
- 学習・実験用の環境として活用

## 👥 想定ユーザー

### プライマリユーザー
- **個人開発者**：個人プロジェクトや学習目的での利用
- **フリーランスエンジニア**：案件対応時の迅速な環境構築
- **スタートアップ開発チーム**：MVP開発時の基盤として

### セカンダリユーザー
- **学生・学習者**：フルスタック開発の学習環境
- **技術検証チーム**：新技術の検証・実験環境

## 🎯 プロジェクトスコープ

### ✅ 含まれるもの（In Scope）

#### 機能要件
- **フロントエンド**
  - Next.js（React + TypeScript）によるトップページ
  - 基本的なルーティング機能
  - APIクライアント機能（FastAPIとの連携）

- **バックエンド**
  - FastAPIによるREST API（GET /api/hello エンドポイント）
  - Djangoによる管理画面
  - 基本的な認証機能
  - データベース操作機能

- **データベース**
  - PostgreSQL接続設定
  - 基本的なテーブル設計（ユーザー情報）
  - 初期データ投入

- **開発環境**
  - Docker環境での一発起動
  - ホットリロード対応
  - 開発用設定ファイル

#### 非機能要件
- **開発環境**
  - Windows 11 + WSL対応
  - Cursor
  - 軽量な起動時間（5分以内）

- **拡張性**
  - モジュール化された構成
  - 設定ファイルによるカスタマイズ
  - プラグイン対応可能な設計

- **バージョン管理**
  - GitHubでのコード管理
  - Git Flow ワークフロー対応
  - ブランチ戦略の明確化

### ❌ 含まれないもの（Out of Scope）

#### 機能要件
- 本格的な認証・認可システム
- 複雑なビジネスロジック
- 外部API連携
- ファイルアップロード機能
- リアルタイム通信機能

#### 非機能要件
- CI/CDパイプライン
- 本番環境デプロイ設定
- パフォーマンス最適化
- セキュリティ強化
- 監視・ログ機能
- 負荷テスト

## 🛠️ 技術スタック

### フロントエンド
- **Next.js 14.x**
  - React 18.x
  - TypeScript 5.x
  - Tailwind CSS（スタイリング）

### バックエンド
- **FastAPI 0.104.x**
  - Python 3.11+
  - Pydantic（データバリデーション）
  - Uvicorn（ASGIサーバー）

- **Django 4.2.x**
  - Python 3.11+
  - Django REST Framework（API開発）
  - Django Admin（管理画面）

### データベース
- **PostgreSQL 15.x**
  - 基本的なテーブル設計
  - 初期データ投入

### 開発環境
- **Docker & Docker Compose**
  - マルチコンテナ構成
  - 開発用設定
  - ボリュームマウント

### 開発ツール
- **Cursor**
  - 拡張機能設定
  - デバッグ設定
  - コードフォーマット

- **Git & GitHub**
  - Git Flow ワークフロー
  - GitHub Actions（将来的にCI/CD）
  - プルリクエストベースの開発
  - コードレビュープロセス

## 📁 プロジェクト構成

```
base_project/
├── frontend/                 # Next.jsプロジェクト
│   ├── src/
│   │   ├── app/             # App Router
│   │   ├── components/      # 再利用可能コンポーネント
│   │   └── lib/             # ユーティリティ
│   ├── public/              # 静的ファイル
│   └── package.json
├── backend/
│   ├── fastapi/             # FastAPIプロジェクト
│   │   ├── app/
│   │   │   ├── api/         # APIエンドポイント
│   │   │   ├── models/      # データモデル
│   │   │   └── main.py      # エントリーポイント
│   │   └── requirements.txt
│   └── django/              # Djangoプロジェクト
│       ├── manage.py
│       ├── core/            # プロジェクト設定
│       ├── apps/            # Djangoアプリケーション
│       └── requirements.txt
├── db/
│   ├── init/                # 初期化SQL
│   └── data/                # データベースファイル
├── docker/
│   ├── Dockerfile.frontend
│   ├── Dockerfile.fastapi
│   ├── Dockerfile.django
│   └── docker-compose.yml
├── docs/                    # ドキュメント
├── scripts/                 # 開発用スクリプト
├── .gitignore              # Git除外設定
└── README.md               # プロジェクト概要・セットアップ手順
```

### README.md テンプレート構成
- **プロジェクト概要**
  - プロジェクトの目的・背景
  - 主要機能の説明
  - 技術スタック一覧

- **セットアップ方法**
  - 前提条件（Docker、Node.js、Python等）
  - 環境構築手順
  - Docker使用時の注意点

- **起動確認手順**
  - `docker-compose up`実行手順
  - 各サービスの起動確認
  - トラブルシューティング

- **各コンテナの役割**
  - frontend（Next.js）
  - fastapi（REST API）
  - django（管理画面）
  - postgres（データベース）

- **利用技術一覧**
  - フロントエンド技術
  - バックエンド技術
  - インフラ技術

- **今後のTODOリスト**
  - 機能拡張予定
  - 改善点
  - バグ修正予定

## 🎨 開発方針

### 設計原則
1. **シンプルさ重視**
   - 必要最小限の機能実装
   - 複雑な設定は避ける
   - 直感的な構成

2. **拡張性の確保**
   - モジュール化された設計
   - 設定ファイルによるカスタマイズ
   - プラグイン対応可能な構造

3. **開発効率の向上**
   - ホットリロード対応
   - 一発起動環境
   - 豊富なドキュメント

4. **学習しやすさ**
   - コメントの充実
   - 段階的な機能追加
   - サンプルコードの提供

### コーディング規約
- **TypeScript**：型安全性の確保
- **ESLint + Prettier**：コード品質の統一
- **Black + isort**：Pythonコードの統一
- **コミットメッセージ**：Conventional Commits準拠

## 🔧 技術選定理由

### フロントエンド：Next.js
- **理由**：React + TypeScriptの組み合わせで型安全性と開発効率を両立
- **メリット**：App Routerによる直感的なルーティング、SSR/SSG対応
- **学習コスト**：Reactの知識があれば比較的容易

### バックエンド：FastAPI + Django
- **FastAPI**：高速なAPI開発、OpenAPI自動ドキュメント生成（/docs）
- **Django**：管理画面の迅速な構築、認証機能の充実
- **組み合わせ**：用途に応じた使い分けが可能

### データベース：PostgreSQL
- **理由**：オープンソース、高機能、エンタープライズ対応
- **メリット**：JSON型対応、全文検索、地理情報対応
- **学習コスト**：SQLの基本知識があれば十分

### 開発環境：Docker
- **理由**：環境の統一、依存関係の管理
- **メリット**：一発起動、チーム開発での環境統一
- **学習コスト**：基本的なDocker知識で対応可能

## 📊 成功指標

### 機能指標
- [ ] トップページが正常に表示される
- [ ] APIエンドポイント（GET /api/hello）が動作する
- [ ] FastAPI OpenAPIドキュメント（/docs）が表示される
- [ ] Django管理画面にアクセスできる
- [ ] PostgreSQLにデータを保存・取得できる
- [ ] `docker-compose up`で一発起動できる

### 非機能指標
- [ ] 起動時間：5分以内
- [ ] メモリ使用量：4GB以下
- [ ] ディスク使用量：2GB以下
- [ ] 開発環境の構築時間：30分以内

## 🚀 開発フェーズ

### Phase 1: 基盤構築（1-2日）
- Docker環境の構築
- 各サービスの基本設定
- データベース接続確認

### Phase 2: 基本機能実装（2-3日）
- Next.jsトップページ作成
- FastAPIエンドポイント実装
- Django管理画面設定

### Phase 3: 統合・テスト（1日）
- サービス間連携確認
- 動作テスト
- ドキュメント整備

### Phase 4: 最適化・ドキュメント（1日）
- パフォーマンス調整
- README作成
- サンプルコード追加

## 📝 今後の拡張予定

### 短期（1-3ヶ月）
- 認証機能の強化
- 外部API連携サンプル
- テストコード追加

### 中期（3-6ヶ月）
- CI/CDパイプライン追加
- 本番環境デプロイ設定
- 監視・ログ機能

### 長期（6ヶ月以上）
- マイクロサービス化
- クラウドネイティブ対応
- パフォーマンス最適化

### バックエンド責務分離
- **FastAPI**
  - すべての外部公開API（REST）
  - OpenAPI自動ドキュメント生成（/docs）
  - APIスキーマ管理
  - 外部システムとの連携

- **Django**
  - Admin管理画面
  - バックエンド業務用UI
  - モデル管理・ORM処理
  - 内部業務処理（非API用途）

### APIスキーマ・OpenAPI対応
- **FastAPI OpenAPI自動生成**
  - `/docs`エンドポイントでSwagger UI提供
  - `/redoc`エンドポイントでReDoc提供
  - Pydanticモデルによる自動スキーマ生成
  - API仕様書の自動更新

---

**作成日**: 2025年6月
**バージョン**: 1.0
**作成者**: 登根 周平 